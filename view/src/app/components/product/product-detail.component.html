<div *ngIf="loading" class="text-center my-3">
  ƒêang t·∫£i s·∫£n ph·∫©m...
</div>

<div *ngIf="!loading && product" class="container my-4">

  <button class="btn btn-light mb-3" (click)="goBack()">‚Üê Quay l·∫°i</button>

  <div class="row">

    <div class="col-md-6">
      <img
        *ngIf="product.image"
        [src]="'http://localhost:8000/storage/' + product.image"
        class="img-fluid rounded shadow-sm mb-3"
        style="max-height: 400px; object-fit: cover;">
    </div>

    <div class="col-md-6">
      <h2>{{ product.name }}</h2>

      <p class="text-danger fw-bold fs-5">
        Gi√°: {{ product.price | currency:'VND' }}
      </p>

      <p><strong>Danh m·ª•c:</strong> {{ product.category?.name || 'Kh√¥ng c√≥' }}</p>

      <p>
        <strong>Tr·∫°ng th√°i:</strong>
        <span
          [class.text-success]="(product.quantity ?? 0) > 0"
          [class.text-danger]="(product.quantity ?? 0) <= 0">
          {{ (product.quantity ?? 0) > 0 ? 'C√≤n h√†ng' : 'H·∫øt h√†ng' }}
        </span>
      </p>

      <div *ngIf="product.id !== undefined" class="mb-3">
        <label class="form-label">S·ªë l∆∞·ª£ng</label>
        <input type="number" min="1" class="form-control w-50"
               [(ngModel)]="quantities[product.id]" />
      </div>

      <div class="d-flex gap-2">
        <button class="btn btn-primary" (click)="addToCart(product.id)">
          üõí Th√™m v√†o gi·ªè h√†ng
        </button>

<button *ngIf="isAdmin" class="btn btn-warning me-2" (click)="edit()">‚úèÔ∏è S·ª≠a</button>
<button *ngIf="isAdmin" class="btn btn-danger" (click)="delete()">üóë X√≥a</button>

      </div>

      <p class="mt-3">{{ product.description }}</p>
    </div>

  </div>
</div>
